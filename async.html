<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async</title>
</head>

<body>

    <!-- <script src="js/async.js"></script> -->
    <script>
        // load('https://jsonplaceholder.typicode.com/todos/1', data => {
        //     document.writeln(data)
        // })
        // document.writeln('loading.....')

        // let promise = new Promise((resolve, reject) => {
        //     let xhr = new XMLHttpRequest()
        //     xhr.onload = function() {
        //         resolve(this.responseText)
        //     }
        //     xhr.onerror = function() {
        //         reject(`Network Error`)
        //     };
        //     xhr.open('GET', 'https://jsonplaceholder.typicode.com/todos/1', true)
        //     xhr.send()
        // })

        // promise
        //     .then((result) => document.writeln(result))
        //     .catch((error) => document.writeln(error))
        // document.writeln('Loading.......')

        // let promise = fetch('https://jsonplaceholder.typicode.com/todos/1')

        // promise
        //     .then((response) => response.json())
        //     .then((json) => document.writeln(JSON.stringify(json)))
        //     .catch((error) => document.writeln(error))
        // document.writeln('Loading.......')

        const load = async () => {
            try {
                let response = await fetch('https://jsonplaceholder.typicode.com/todos/1')
                let json = await response.json()
                document.writeln(JSON.stringify(json))
            } catch (error) {
                document.writeln(error)
            }
        }

        load()
        document.writeln('Loading.....')
    </script>
</body>

</html>